{%extends 'base.html'%}
{%load staticfiles%}
{%block title%}
Articles
{%endblock%}
{%block content%}

<div class="container"></br>

<div class="row ">
<div class="col-sm-8">
<div class="well">
    <strong>Articles</strong>
    <a href="{%url 'articles:add_article'%}" class="btn btn-primary btn-sm pull-right">Add article</a>
    <br><br>
    <form action="" method="GET">
        <div class="input-group">
        <input name="q" type="text" class="form-control" placeholder="Search">
        <div class="input-group-btn">
        <button class="btn btn-default" type="submit">
        <i class="glyphicon glyphicon-search"></i>
        </button>
        </div>
        </div>
    </form>
    <br>

    <ul class="list-group">
        {%for article in articles%}
        <li class="list-group-item"><strong>{{article.title}}</strong><br>
        {{article.body|truncatewords:30}}<br>
        <span class="label label-info pull-right">{{article.category}}</span><br>
        <a href="{%url 'articles:view_article' article.id%}" class="btn btn-primary btn-xs ">View</a>
        <button class="btn btn-warning btn-xs " onclick="deleteItem({{article.id}})">Delete</button>
        </li>
        {%endfor%}
    </ul>
</div>
</div>

<div class="col-sm-4 ">
<div class="well">
    <strong>Categories</strong>
    <a href="{%url 'articles:add_category'%}" class="pull-right btn btn-primary btn-sm">Add category</a>
    <br><br>
    <div class="list-group">
        {%for category in categories%}
        <a href="{%url 'articles:category' category.id%}" class="list-group-item">
        {{category.title}}
        <span class="glyphicon glyphicon-folder-open pull-right "></span></a>
        {%endfor%}
    </div>
</div>
</div>

</div> 
</div>
<script src="{%static 'article/delete_article.js'%}"></script> 
{%endblock%}
